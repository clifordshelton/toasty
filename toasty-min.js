(function(e){function a(o){try{var a={beforeShow:null,afterShow:null,beforeHide:null,afterHide:null,afterDestroy:null,msgHeight:null,msgID:null,animHandle:null,timerHandle:null,showing:false,hiding:false},p,d,v,m,g;if(!u){c()}e().extend(a,t);e().extend(a,o);r++;a.msgID=r;p=e("<div></div>",{"class":"toasty_toastMsg"});if(a.closeable||a.title!=""||a.autoHide){g=e("<div></div>",{"class":"toasty_head"});if(a.autoHide&&!isNaN(a.autoHide)){e("<div></div>",{"class":"toasty_autoHideTimer"}).appendTo(g)}if(a.closeable){e("<div></div>",{"class":"toasty_closeBtn",html:"x"}).on("click",function(e){f(a,e)}).appendTo(g)}if(a.title!=""){e("<div></div>",{"class":"toasty_title",html:a.title}).appendTo(g)}g.appendTo(p)}v=e("<div></div>",{"class":"toasty_message",html:typeof a.message=="object"?a.message.constructor==Array?"[Array]":"[Object]":a.message});v.find(".closeToast").on("click",function(e){f(a,e)});p.append(v);n.measurebox.append(p);a.msgHeight=n.measurebox.height();toastHolder=e("<div></div>",{"class":"toasty_toastHolder",id:"toast_"+a.msgID});n.measurebox.find(".toasty_toastMsg").appendTo(toastHolder);if(a.position=="tl"||a.position=="tr"||a.position=="tc"){n["container_"+a.position].prepend(toastHolder)}else{toastHolder.appendTo(n["container_"+a.position])}a.toast=toastHolder;if(a.showAnim==null||a.showAnim==""){a.showAnim=a.anim}if(a.showAnimEasing==null||a.showAnimEasing==""){a.showAnimEasing=a.easing}if(a.hideAnim==null||a.hideAnim==""){a.hideAnim=a.anim}if(a.hideAnimEasing==null||a.hideAnimEasing==""){a.hideAnimEasing=a.easing}if(l(a,true)){i[a.msgID]=a;s.push(a.msgID);if(s.length==1){e(document).keydown(h)}if(a.autoHide&&!isNaN(a.autoHide)){a.timerHandle=setTimeout(function(){a.timerHandle=null;l(a,false)},parseInt(a.autoHide));a.toast.find(".toasty_autoHideTimer").animate({width:"0%"},parseInt(a.autoHide))}return a}else{return false}}catch(y){throw y}}function f(t,n){var r;if(i[t.msgID]){r=i[t.msgID];if(!r.hiding&&r.toast!=null){e().extend(r,t);l(r,false,n)}}}function l(t,r,u){var a=(r?t.showAnim:t.hideAnim).split(" "),l={},c,p,d=r?parseInt(t.showSpeed):parseInt(t.hideSpeed),v=true,m="linear",g=false;for(c=0,p=a.length;c<p;c++){if(a[c]=="slide"){if(r){t.toast.height("0px");l.height=t.msgHeight+"px";m=t.showAnimEasing;g=true}else{l.height="0px";m=t.hideAnimEasing}}else if(a[c]=="fade"){if(r){t.toast.css("opacity",0);l.opacity=1}else{l.opacity=0}}if(r&&!g){t.toast.height(t.msgHeight+"px")}}try{if(r){if(t.beforeShow!=null){try{v=t.beforeShow(t)}catch(y){}}}else{if(t.beforeHide!=null){try{v=t.beforeHide(t,u)}catch(y){}}}}catch(y){}if(v!=false){v=true;if(t.timerHandle){clearTimeout(t.timerHandle)}if(t.modal){if(r){o++;if(o==1){n.mask.stop(true,false).css("opacity",0).show().animate({opacity:.5},t.showSpeed)}}else{o--;if(o==0){n.mask.stop(true,false).animate({opacity:0},t.hideSpeed,function(){n.mask.hide()})}}}if(t.showing||t.hiding){t.toast.stop(true,false)}if(r){t.showing=true}else{t.hiding=true}t.hide=function(){f(t)};t.animHandle=t.toast.animate(l,d,m,function(){var n;t.animHandle=null;if(r){t.showing=false;if(t.afterShow!=null){try{t.afterShow(t)}catch(o){}}}else{t.hiding=false;if(t.afterHide!=null){try{t.afterHide(t,u)}catch(o){}}t.toast.remove();t.toast=null;s.splice(e.inArray(t.msgID,s),1);if(s.length==0){e(document).unbind("keydown",h)}delete i[t.msgID];if(t.afterDestroy!=null){try{t.afterDestroy(t,u)}catch(o){}}}})}return v}function c(){var t=document.createElement("div"),r=e("body"),i=[{field:"mask",id:"msgMask",cssClass:"toasty_msgMask",container:r},{field:"measurebox",id:"msgMeasureBox",cssClass:"toasty_msgMeasureBox",container:r},{field:"container_br",id:"container_br",cssClass:"toasty_msgContainer br",container:r},{field:"container_bl",id:"container_bl",cssClass:"toasty_msgContainer bl",container:r},{field:"container_tr",id:"container_tr",cssClass:"toasty_msgContainer tr",container:r},{field:"container_tl",id:"container_tl",cssClass:"toasty_msgContainer tl",container:r},{field:"tc_holder",id:"tc_holder",cssClass:"toasty_msgContainer tc",container:r},{field:"container_tc",id:"container_tc",cssClass:"toasty_subContainer",container:"#tc_holder"},{field:"bc_holder",id:"bc_holder",cssClass:"toasty_msgContainer bc",container:r},{field:"container_bc",id:"container_bc",cssClass:"toasty_subContainer",container:"#bc_holder"}],s,o,a,f;for(s=0,o=i.length;s<o;s++){a=i[s];f=e("#"+a.id);if(f.length>0){n[a.field]=f}else{n[a.field]=e("<div id='"+a.id+"' class='"+a.cssClass+"'></div>").appendTo(a.container)}}u=true}function h(e){var t,n;if(e.keyCode==27){for(t=0,n=s.length;t<n;t++){if(i[s[t]].closeable&&i[s[t]].hiding==false){f(i[s[t]],e);break}}}}var t={message:"",title:"",autoHide:0,modal:false,position:"br",closeable:true,anim:"slide",easing:"swing",showAnim:null,showAnimEasing:"easeOutBack",showSpeed:300,hideAnim:"slide fade",hideAnimEasing:null,hideSpeed:200},n={},r=0,i={},s=[],o=0,u=false;e.fn.toasty=function(n,r){var s;if(n==="hide"){f(r)}else if(n==="hideAll"){for(toast in i){s={msgID:i[toast].msgID};if(r!=undefined){e().extend(s,r)}f(s)}}else if(n==="getDefaults"){return t}else if(n==="setDefaults"){e().extend(t,r)}else if(n==="show"){if(r.message!=undefined&&r.message!=null){return a(r)}}else if(n!=undefined&&n!=null){if(typeof n=="object"&&n.constructor!=Array){if(n.message!=undefined&&n.message!=null){return a(n)}}else{return a({message:n})}}}})(jQuery);(function(e){var t={easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(t,n,r,i,s){return i-e.easing.easeOutBounce(t,s-n,0,i,s)+r},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(t,n,r,i,s){if(n<s/2)return e.easing.easeInBounce(t,n*2,0,i,s)*.5+r;return e.easing.easeOutBounce(t,n*2-s,0,i,s)*.5+i*.5+r}},n;for(n in t){if(e.easing[n]==undefined){e.easing[n]=t[n]}}})(jQuery)
